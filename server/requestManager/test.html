<html>

<body>

  <script>
    var get_services = function () {

      const Http = new XMLHttpRequest();
  
      var conditions = {
        date:  {min:'2020-10-15', max:'2020-10-25'},
        time:  {max:'15:57:33'},
        lat:   {min: 49.56911},
        longi: {max: 130.456, min: 122.908}
      };

      Http.open("GET", '/service?date-min=2020-10-15&lat-min=45.786&lat-max=67.89&longi-min=122.3434');
      Http.send();

      console.log("Getting services: GET /service");
    }

    var add_service = function () {

      const Http = new XMLHttpRequest();

      var body = { name: 'A service',
                   date: '2020-10-17',
                   time: '12:57:33',
                   lat:   49.56911,
                   longi: 123.456,
                   owner: 'Jon',
                   type:  'food',
                   description: 'This is a description'
                 };
  
      Http.open("POST", '/service');
      Http.setRequestHeader('Content-Type', 'application/json');
      Http.send(JSON.stringify(body));
      
      console.log("Adding service: POST /service");
    }

    var get_new_messages = function () {

      const Http = new XMLHttpRequest();

      Http.open("GET", '/chat?user1=b&user2=c&newest=2020-10-12%2011:23:43');
      Http.send();

      console.log("Getting messages: GET /chat");
    }

    var add_message = function () {

      const Http = new XMLHttpRequest();

      var message = {sender: "c",
                   recipient: "b",
                   timestamp: "2020-10-31 11:23:34",
                   content: "Hello!"};

      Http.open("POST", '/chat');
      Http.setRequestHeader('Content-Type', 'application/json');
      Http.send(JSON.stringify(message));

      console.log("Adding message: POST /chat");
    }
  
  </script>

  <button onclick='get_services()'> Get Services </button>
  <button onclick='add_service()'> Add Service </button>
  <button onclick='get_new_messages()'> Get Messages </button>
  <button onclick='add_message()'> Add Message </button>

</body>
</html>
